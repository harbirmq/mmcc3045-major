<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<title>Always Rainy at MQ</title>

	<link href="styles.css" rel="stylesheet"/>

	<!-- Load external modules-->
	<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

	<!-- Load internal modules-->
	<script src="scripts/storage.js"></script>
	<script src="scripts/text-engine.js"></script>

	<!-- Load library modules-->
	<script src="libraries/item_library.js"></script>
	<script src="libraries/ally_library.js"></script>
	<script src="libraries/buffs_library.js"></script>

	<script>
		let script = {
			[0]: {text: '"Last day, huh?", I thought to myself...',},
			[1]: {text: "I lugged myself out of the metro and walked slowly to my class...",},
			[2]: {text: "I took in the sounds of people walking, the birds chirping, the trees rustling...",},
			[3]: {text: "Strolling through Wally's Walk, I noticed the new law building was finally completed...",},
			[4]: {text: "To my right I saw two birds fighting over the last few chips...",},
			[5]: {text: "The people in front of me, walking ever so slightly slower than me...",},
			[6]: {text: '"I wish I could never leave...", I thought...',},
			[7]: {text: "...",},
			[8]: {text: "It's been 3 weeks now...",},
			[9]: {text: "Now, I hear the sound of *them* walking, the birds missing, the trees dripping...",},
			[10]: {text: "Strolling through Wally's Walk, I notice the amount of blood on the floor...",},
			[11]: {text: "To my right I see two zombies fighting over the remains of a student..",},
			[12]: {text: "No people in front of me to complain about...",},
			[13]: {text: "...",},
			[14]: {text: "Oh, and it's always raining...",},
			[15]: {text: "...",},
			[16]: {text: "Now then...",},
			[17]: {text: "Where should I go next?",},
		}

		function Option(_label, _function) {
			return {
				label: _label,
				function: _function,
			}
		}

		let female_encounter = {
			[0]: {text: 'here is some sample text'},
			[1]: {text: 'now take this free female', ally: [ ALLIES["Vanessa"], ]},
			[2]: {text: 'now heres a choice', options: [
				Option("eat vanessa ass", function() {
					console.log("ASS");
				}),
				Option("eat vanessa pussy", function() {
					console.log("PUSSY");
				}),
				Option("suck vanessa nipples", function() {
					console.log("NIPPLES");
				}),
				Option("[REQUIRES LOVE] kiss vanessa lips", function() {
					SetScript(script, true);
				}),
			]},
		}

		$(document).ready(function() {
			let text_area = $("#text-area");
			let choice_buttons = [$("#choice1"), $("#choice2"), $("#choice3"), $("#choice4")];

			InitTextEngine(text_area, choice_buttons);
			SetScript(female_encounter);
		});
	</script>
</head>

<body>
	<div id="stage">
		<div id="main-text-window">
			<div id="text-area">Click to begin</div>
			<div id="choice-buttons">
				<div class="choice-button choice-button-disabled" id="choice1">Choice1</div>
				<div class="choice-button choice-button-disabled" id="choice2">Choice2</div>
				<div class="choice-button choice-button-disabled" id="choice3">Choice3</div>
				<div class="choice-button choice-button-disabled" id="choice4">Choice4</div>
			</div>
		</div>
	</div>
</body>
</html>